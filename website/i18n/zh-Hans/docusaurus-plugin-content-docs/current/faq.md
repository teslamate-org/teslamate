---
title: å¸¸è§é—®é¢˜
sidebar_label: å¸¸è§é—®é¢˜
---

## å¦‚ä½•ç”Ÿæˆè‡ªå·±çš„ token

æœ‰å¤šä¸ªåº”ç”¨ç¨‹åºå¯ä¾›è‡ªå·±å®‰å…¨åœ°ç”Ÿæˆè®¿é—®ä»¤ç‰Œï¼š

- [Auth app for Tesla (iOS, macOS)](https://apps.apple.com/us/app/auth-app-for-tesla/id1552058613)
- [Tesla Tokens (Android)](https://play.google.com/store/apps/details?id=net.leveugle.teslatokens)
- [Tesla Auth (macOS, Linux, Windows)](https://github.com/adriankumpf/tesla_auth)

## ä¸ºä»€ä¹ˆåœ¨ Grafana ä¸­æ²¡æœ‰æ˜¾ç¤ºæ¶ˆè€—å€¼ï¼Ÿ

ä¸å¹¸çš„æ˜¯ï¼Œç‰¹æ–¯æ‹‰çš„ API å¹¶ä¸è¿”å›è¡Œç¨‹ä¸­çš„æ¶ˆè€—å€¼ã€‚ä¸ºäº†ä»ç„¶èƒ½å¤Ÿæ˜¾ç¤ºæ•°å€¼ï¼ŒTeslaMate åœ¨è®°å½•ï¼ˆå……ç”µï¼‰æ•°æ®çš„åŸºç¡€ä¸Šä¼°è®¡æ¶ˆè€—ã€‚åœ¨æ˜¾ç¤ºç¬¬ä¸€ä¸ªä¼°è®¡å€¼ä¹‹å‰ï¼Œ**è‡³å°‘éœ€è¦ä¸¤ä¸ª**çš„å……ç”µæ—¶æ®µã€‚å……ç”µæ—¶é—´å¿…é¡»é•¿äº 10 åˆ†é’Ÿï¼Œå¹¶ä¸”ä½äº 95% çš„å……ç”µçŠ¶æ€ï¼ˆSoCï¼‰ã€‚æœªæ¥çš„æ¯ä¸€æ¬¡å……ç”µè¿‡ç¨‹éƒ½ä¼šç•¥å¾®æé«˜ä¼°ç®—çš„å‡†ç¡®æ€§ï¼Œè¿™å°†è¿½æº¯åˆ°æ‰€æœ‰æ•°æ®ã€‚

## åœ°ç†å›´æ çš„åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ

ç›®å‰ï¼Œåœ°ç†å›´æ æ˜¯ä¸€ç§åˆ›å»ºè‡ªå®šä¹‰ä½ç½®çš„æ–¹å¼ï¼Œå¦‚ `ğŸ¡ å®¶` æˆ– `ğŸ› ï¸ å·¥ä½œ`ï¼Œå¦‚æœä½ æ‰€åœ¨åœ°åŒºçš„åœ°å€ï¼ˆç”± [OpenStreetMap](https://www.openstreetmap.org) æä¾›ï¼‰ä¸å‡†ç¡®ï¼Œæˆ–è€…å¦‚æœä½ åœ¨ç¡®åˆ‡åœ°å€å¯èƒ½ä¸åŒçš„åœ°æ–¹åœè½¦ï¼Œè¿™å¯èƒ½ç‰¹åˆ«æœ‰ç”¨ã€‚

## è¯·æ±‚å¸®åŠ©ï¼Œæˆ‘çš„è½¦ä¸ä¼šä¼‘çœ 

å¸¦æœ‰åª’ä½“æ§åˆ¶å•å…ƒ 1 ç‰ˆæœ¬ï¼ˆMCU1ï¼‰çš„æ±½è½¦éœ€è¦æŸäº›è®¾ç½®æ‰èƒ½ä¼‘çœ ã€‚2018 å¹´ç¬¬ 3 å­£åº¦ä¹‹å‰åˆ¶é€ çš„ Model S å’Œ Model X æ±½è½¦æœ‰ MCU1 è£…ç½®ï¼Œè¿™ä¹Ÿå¯ä»¥ä»è½¯ä»¶ -> é™„åŠ è½¦è¾†ä¿¡æ¯ä¸­æ£€æŸ¥ã€‚å¦‚æœ"ä¿¡æ¯å¨±ä¹å¤„ç†å™¨"æ˜¯ "NVIDIA Tegra"ï¼Œåˆ™è¯¥è½¦é…å¤‡äº† MCU1ã€‚

ç”¨ MCU1 å¯ç”¨ä¼‘çœ æ¨¡å¼æ‰€éœ€çš„è®¾ç½®æ˜¯ï¼š

- 'Display' -> 'Energy saving' -> ON
- 'Display' -> 'Always connected' -> unchecked
- 'Safety & security' -> 'Cabin overheat protection' -> OFF

é€šè¿‡è¿™äº›è®¾ç½®ï¼ŒMCU1 æ±½è½¦åº”è¯¥åœ¨ä¸æ´»åŠ¨çš„ 15 åˆ†é’Ÿå†…ä¼‘çœ ã€‚è¿™å°±æ˜¯åœ¨ TeslaMate ä¸­å¯ç”¨æµåª’ä½“æ¨¡å¼æ—¶ï¼Œä½ åº”è¯¥åœ¨æ—¥å¿—ä¸­çœ‹åˆ°çš„æƒ…å†µ

- `[info] Suspending logging` after 3 minutes of inactivity (doors locked)
- `[info] Fetching vehicle state ...` about 21 minutes later. The car should have fallen asleep during this period

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœé©¾é©¶å®¤çš„é—¨è¢«æ‰“å¼€å’Œå…³é—­ï¼š

```
teslamate_1     | 2021-03-16 11:41:19.336 car_id=1 [info] Start / :online
teslamate_1     | 2021-03-16 11:41:19.603 car_id=1 [info] Connecting ...
teslamate_1     | 2021-03-16 11:44:41.380 car_id=1 [info] Suspending logging
teslamate_1     | 2021-03-16 12:03:27.356 car_id=1 [info] Fetching vehicle state ...
teslamate_1     | 2021-03-16 12:03:28.123 car_id=1 [info] Start / :asleep
teslamate_1     | 2021-03-16 12:03:28.139 car_id=1 [info] Disconnecting ...
```

![image](https://user-images.githubusercontent.com/2128464/111361149-38238380-8696-11eb-950d-aba298206d2d.png)

**æ³¨æ„ï¼** å¦‚æœä½ åŒæ—¶ä½¿ç”¨ä¸€äº›å…¶ä»–çš„æ•°æ®è®°å½•å™¨ï¼Œå¦‚ TeslaFiï¼Œä¼‘çœ å°è¯•å¯èƒ½ä¼šå¤±è´¥ï¼Œå› ä¸ºå…¶ä»–æ•°æ®è®°å½•å™¨è®©æ±½è½¦ä¿æŒæ¸…é†’ã€‚ç‰¹åˆ«æ˜¯è°ƒç”¨ [Vehicle Data API](https://www.teslaapi.io/vehicles/state-and-settings#vehicle-data) å°†é‡ç½®æ±½è½¦çš„ä¸æ´»åŠ¨è®¡æ—¶å™¨ã€‚

## ä¸ºä»€ä¹ˆæˆ‘åœ¨ä¸ä½¿ç”¨æµåª’ä½“ API çš„æ—¶å€™ä¼šä¸¢å¤±æ•°æ®ï¼Ÿ

è½®è¯¢æ¨¡å¼çš„é—®é¢˜æ˜¯ï¼Œæ±½è½¦åœ¨ä¸æ´»åŠ¨çº¦ 15 åˆ†é’Ÿä¹‹å‰ä¸ä¼šä¼‘çœ ã€‚TeslaMate å°†åœ¨æ±½è½¦é—²ç½® 3 åˆ†é’Ÿåæš‚åœæ‰€æœ‰è½®è¯¢ï¼ˆ"å°è¯•ä¼‘çœ å‰çš„é—²ç½®æ—¶é—´" è®¾ç½®ï¼‰ï¼Œå¹¶åœ¨ 15 åˆ†é’Ÿåæ¢å¤è½®è¯¢ï¼ˆ"å°è¯•ä¼‘çœ æ—¶é—´" è®¾ç½®ï¼‰ã€‚è¿™ 15 åˆ†é’Ÿå†…çš„ä»»ä½•æ´»åŠ¨éƒ½ä¸èƒ½è¢«æ£€æµ‹åˆ°ï¼Œå› ä¸ºè°ƒç”¨[è½¦è¾†æ•°æ® API](https://www.teslaapi.io/vehicles/state-and-settings#vehicle-data) ä¼šé‡ç½®æ±½è½¦çš„ä¸æ´»åŠ¨è®¡æ—¶å™¨ï¼Œä»¥é˜²æ­¢æ±½è½¦ä¼‘çœ ã€‚

è°ƒç”¨ [Vehicle API](https://www.teslaapi.io/vehicles/list#vehicle) ä¸ä¼šé‡ç½®ä¸æ´»åŠ¨è®¡æ—¶å™¨ï¼Œä½†å®ƒåªå‘Šè¯‰äººä»¬æ±½è½¦æ˜¯å¦åœ¨çº¿ï¼ˆé©¾é©¶ã€å……ç”µã€ç©ºé—²ã€å³å°†ä¼‘çœ ï¼‰æˆ–ä¼‘çœ ã€‚å®ƒä¸èƒ½å‘Šè¯‰ä¸€ä¸ªç©ºé—²çš„æ±½è½¦æ˜¯å¦åœ¨ "å°è¯•ä¼‘çœ çš„æ—¶é—´" æœŸé—´å¼€å§‹é©¾é©¶ã€‚

## ä¸ºä»€ä¹ˆæˆ‘çš„ Docker æ—¶é—´æˆ³æ—¥å¿—ä¸æˆ‘çš„æœºå™¨ä¸åŒï¼Ÿ

Docker å®¹å™¨çš„æ—¶åŒºé»˜è®¤ä¸º UTCã€‚è¦ä¸ºä½ çš„å®¹å™¨è®¾ç½®æ—¶åŒºï¼Œåœ¨ä½ çš„ YML æ–‡ä»¶ä¸­ä½¿ç”¨ `TZ` ç¯å¢ƒå˜é‡ã€‚æ›´å¤šä¿¡æ¯è§[ç¯å¢ƒå˜é‡](https://docs.teslamate.org/docs/configuration/environment_variables)
